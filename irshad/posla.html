<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¨ÙˆØµÙ„Ø© - ØªØ­Ø¯ÙŠØ¯ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-image: url(asasy.webp);
            background-size: cover;
            background-attachment: fixed;
            color: white;
            font-family: 'Tajawal', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .compass-container {
            text-align: center;
            padding: 30px;
            border: 3px solid white;
            border-radius: 10px;
            background-color: rgba(0, 0, 0, 0.6);
            font-size: 18px;
            max-width: 90%;
            margin: 0 auto;
        }

        #compass {
            width: 150px;
            height: 150px;
            background-image: url('compass.png');
            /* ØµÙˆØ±Ø© Ø§Ù„Ø¨ÙˆØµÙ„Ø© */
            background-size: cover;
            margin: 20px auto;
            transform-origin: center;
            transition: transform 0.2s ease-in-out;
        }

        button {
            padding: 10px 20px;
            background-color: #ff9900;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 20px;
        }

        button:hover {
            background-color: #cc7a00;
        }

        .link-container {
            margin-top: 15px;

        }

        .link-container a {

            color: white;
            font-weight: bold;
            text-decoration: none;
        }

        .link-container a:hover {

            text-decoration: none;
        }
    </style>
</head>

<body>

    <div class="compass-container">
        <h3>Ø§Ù„Ø¨ÙˆØµÙ„Ø© - ØªØ­Ø¯ÙŠØ¯ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</h3>
        <p id="qibla-direction">Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©: Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨...</p>
        <p id="guidance">ØªØ­Ø±Ùƒ Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù†Ø­Ùˆ Ø§Ù„Ù‚Ø¨Ù„Ø©...</p>
        <div id="compass"></div>
        <button id="locate">ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ</button>
    </div>

    <script>
        const kabahLatitude = 21.4225; // Ø¯Ø§Ø¦Ø±Ø© Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ¹Ø¨Ø©
        const kabahLongitude = 39.8262; // Ø®Ø· Ø·ÙˆÙ„ Ø§Ù„ÙƒØ¹Ø¨Ø©

        let qiblaDirection = 0;

        function calculateQiblaDirection(lat, lon) {
            const dLon = kabahLongitude - lon;
            const y = Math.sin(dLon * Math.PI / 180) * Math.cos(kabahLatitude * Math.PI / 180);
            const x = Math.cos(lat * Math.PI / 180) * Math.sin(kabahLatitude * Math.PI / 180) -
                Math.sin(lat * Math.PI / 180) * Math.cos(kabahLatitude * Math.PI / 180) * Math.cos(dLon * Math.PI / 180);
            const brng = Math.atan2(y, x) * (180 / Math.PI);
            return (brng + 360) % 360; // Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø¨Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
        }

        document.getElementById('locate').addEventListener('click', () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    const userLat = position.coords.latitude;
                    const userLon = position.coords.longitude;

                    qiblaDirection = calculateQiblaDirection(userLat, userLon);

                    document.getElementById('qibla-direction').textContent = `Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©: ${qiblaDirection.toFixed(2)}Â°`;
                    document.getElementById('guidance').textContent = 'Ù‚Ù… Ø¨ØªØ¯ÙˆÙŠØ± Ø¬Ù‡Ø§Ø²Ùƒ Ù„ØªÙˆØ¬ÙŠÙ‡Ù‡ Ù†Ø­Ùˆ Ø§Ù„Ù‚Ø¨Ù„Ø©.';
                }, () => {
                    alert('Ù„Ù… ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                });
            } else {
                alert('Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ.');
            }
        });

        if (window.DeviceOrientationEvent) {
            window.addEventListener('deviceorientation', event => {
                const compass = document.getElementById('compass');
                const alpha = event.alpha; // Ø²Ø§ÙˆÙŠØ© Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²

                if (qiblaDirection) {
                    const rotation = (alpha - qiblaDirection + 360) % 360;
                    compass.style.transform = `rotate(${rotation}deg)`;

                    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
                    const difference = Math.abs(rotation);
                    const guidance = document.getElementById('guidance');

                    if (difference < 10) {
                        guidance.textContent = 'Ø£Ù†Øª Ø§Ù„Ø¢Ù† Ù…ÙˆØ§Ø¬Ù‡ Ù„Ù„Ù‚Ø¨Ù„Ø©! ğŸŒŸ';
                    } else if (rotation > 0 && rotation <= 180) {
                        guidance.textContent = 'ØªØ­Ø±Ùƒ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù†Ø­Ùˆ Ø§Ù„ÙŠÙ…ÙŠÙ† â¬…ï¸';
                    } else {
                        guidance.textContent = 'ØªØ­Ø±Ùƒ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù†Ø­Ùˆ Ø§Ù„ÙŠØ³Ø§Ø± â¡ï¸';
                    }
                }
            });
        } else {
            alert('Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ù…Ø³ØªØ´Ø¹Ø±Ø§Øª Ø§Ù„Ø¨ÙˆØµÙ„Ø©.');
        }
    </script>

    <div class="link-container">
        <p><a href="informaton.html">Ø§Ù„Ø±Ø¬ÙˆØ¹</a></p>
    </div>


    <div class="footer">
        <p>
            ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰:
            <a href="https://www.facebook.com/profile.php?id=100063496583427&locale=ar_AR"><img src="facebook.png"
                    alt="ÙÙŠØ³Ø¨ÙˆÙƒ" width="30" height="30"></a>
            <a href="https://youtube.com/@cyber_senpai1?si=cN589g0DpZ5EOS_p"><img
                    src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png"
                    alt="ÙŠÙˆØªÙŠÙˆØ¨" width="30" height="30"></a>
            <a href="https://t.me/Eng_mousab_Ahmed"><img src="telegram.webp" alt="ØªÙ„ÙŠØ¬Ø±Ø§Ù…" width="30" height="30"></a>
            <a href=""><img src="x.png" alt="Ø¥ÙƒØ³" width="30" height="30"></a>
        </p>
        <p>ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: <strong> Mousab Ahmed</strong></p>
        <p>&copy; 2024-2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </div>


</body>

</html>